<!DOCTYPE html>
<html>
    <body>
        <div id="root"></div>
    </body>
    <script src="https://unpkg.com/react@18.3.1/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
    <!-- JSX 문법 변환을 위한 babel 사용 -->
    <script src="https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>
    <script type="text/babel">
        const root = document.getElementById("root");

        // Arrow function (Component)
        const Title = () => (
            <h3 id="title" onMouseEnter={() => console.log("mouse enter")}>
                Total clicks: 0
            </h3>
        );
        const Button = () => (
            <button style={{ backgroundColor: "tomato" }} onClick={countUp}>
                Click me
            </button>
        );

        // Component 는 반드시 대문자로 시작해야 한다
        function App() {
            // setCounter 라는 함수에서 counter 라는 변수를 업데이트
            const [counter, setCounter] = React.useState(0);
            // counter 가 랜더링되는 HTML에는 ReactDOM 을 통해 변경되는 부분만 랜더링
            const countUp = () => {
                // setCounter(counter + 1);
                // counter 라는 변수의 변경 전 값을 가져와 여러번 +1 할 수 있는 상황이 발생할 수 있음
                // ex) 두번 연속 countUp시 1+1 = 2, 1+1 = 2
                // 이를 방지하기 위해 setCounter 함수를 통해 최신 상태를 가져와 +1 할 수 있도록 함
                // ex) 두번 연속 countUp시 1+1 = 2, 2+1 = 3
                setCounter((current) => current + 1);
            };
            return (
                <div>
                    <h3
                        id="title"
                        onMouseEnter={() => console.log("mouse enter")}
                    >
                        Total clicks: {counter}
                    </h3>
                    <button
                        style={{ backgroundColor: "tomato" }}
                        onClick={countUp}
                    >
                        Click me
                    </button>
                </div>
            );
        }

        // App 컴포넌트를 렌더링하는 함수
        const renderApp = () => {
            ReactDOM.render(<App ƒ />, root);
        };

        // ReactDOM 을 활용한 HTML 랜더링 (컴포넌트, 렌더링할 위치)
        renderApp();
    </script>
</html>
